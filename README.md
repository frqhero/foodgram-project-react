# praktikum_new_diplom
## «Продуктовый помощник»
http://frqhero.ddns.net  
admin email: frqhero@gmail.com  
admin pass:  123

«Продуктовый помощник»: сайт, на котором пользователи могут публиковать рецепты, добавлять чужие рецепты в избранное и подписываться на публикации других авторов. Сервис «Список покупок» позволяет пользователям создавать список продуктов, которые нужно купить для приготовления выбранных блюд.

Для установки:  
Склонировать репозиторий.  
Подготовить виртуальную машину, установить docker compose.  
В корневую папку приложения на ВМ скопировать файл infra/docker-compose.yml, infra/nginx.conf, создать файл .env (он должен содержать SECRET_KEY для django и POSTGRES_USER и POSTGRES_PASSWORD для db контейнера)
Выполнить команду  
```
docker compose up  
``` 
Cкачаются образы с docker hub: 2 сделанных из этого репозитория и 2 других - nginx и postgresql.  
Запустятся контейнеры.  
Проект должен работать.

Для внесения изменений:  
В склонированном репозитории можно внести правки. После того как они готовы и необходимо ввести их в работу, нужно сделать следующие действия:
Если правки были в django проекте:  
Перейти в папку foodgram-project-react и выполнить build образа из Dockerfile:

```
docker build -t frqhero/foodgram_backend -f backend/Dockerfile .
```

тег желательно ставить свой, что позволит запушить образ на свой docker hub
```  
docker push frqhero/foodgram_backend
```
Далее нужно внести правки в файл docker-compose.yml, servce web, свойство "image".   
  
Аналогичные действия для правок в папке frontend:  
Перейти в папку frontend и далее выполнить команду build  
```
docker build -t frqhero/foodgram_frontend .
```
Тогда при выполнении команды

```
docker compose up
```
Будут использованы обновленные данные